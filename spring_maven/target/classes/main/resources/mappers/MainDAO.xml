<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="main.java.com.service.impl.MainDAO">

<!-- 고객관련쿼 -->
    <select id="loginCheck" parameterType="main.java.com.bean.MainVO" resultType="main.java.com.bean.MainVO">
        SELECT userid,username FROM user WHERE userId = #{userid} and userpassword = #{password}
    </select>
    
    <insert id="MemberInsert" parameterType="main.java.com.bean.MainVO">
        INSERT INTO USER (userid, userpassword, username,useremail)
        VALUES (#{userid}, #{password}, #{username},#{useremail})
    </insert>
    
    <select id="memberCheck" parameterType="main.java.com.bean.MainVO" resultType="int">
        SELECT COUNT(*) FROM user WHERE userid = #{userid}
    </select>
    
<!--     테이블 관련 쿼리 -->
    <insert id="TableInsert" parameterType="main.java.com.bean.MainVO">
        INSERT INTO reservation (userid, tableID, number_of_people, reservation_Time, cre_datetime, delYN)
        VALUES (#{userid}, #{tableid}, #{number_of_people},#{reservation_Time},NOW(),'N')
    </insert>
    
    <select id="selectTable"  resultType="main.java.com.bean.MainVO">
        SELECT tableID as tableid ,reservation_Time as reservation_Time FROM reservation where delYN='N'
    </select>
    
</mapper>
